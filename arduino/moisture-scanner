
int soilMoistureValue = 0;
int soilMoisturePercent = 0;

class Sensor
{
public:
    char label;
    char version;
    int pin;
    int airValue;
    int waterValue;
};

Sensor sensorA;
Sensor sensorB;
Sensor sensorC;
Sensor sensorD;
Sensor sensorE;

Sensor sensors[5];

void setup()
{
    sensorA.label = 'A';
    sensorA.version = '2.0';
    sensorA.pin = 15;
    sensorA.airValue = 3600;
    sensorA.waterValue = 1445;

    sensorB.label = 'B';
    sensorB.version = '2.0';
    sensorB.pin = 2;
    sensorB.airValue = 3800;
    sensorB.waterValue = 1510;

    sensorC.label = 'C';
    sensorC.version = '1.2';
    sensorC.pin = 34;
    sensorC.airValue = 4095;
    sensorC.waterValue = 3571;

    sensorD.label = 'D';
    sensorD.version = '1.2';
    sensorD.pin = 35;
    sensorD.airValue = 4095;
    sensorD.waterValue = 3655;

    sensorE.label = 'E';
    sensorE.version = '1.2';
    sensorE.pin = 32;
    sensorE.airValue = 4095;
    sensorE.waterValue = 2715;

    sensors[0] = sensorA;
    sensors[1] = sensorB;
    sensors[2] = sensorC;
    sensors[3] = sensorD;
    sensors[4] = sensorE;

    Serial.begin(9600);
}

void loop()
{
    int sensorsCount = sizeof(sensors) / sizeof(sensors[0]);
    for (int sensor_index = 0; sensor_index < sensorsCount; sensor_index++)
    {
        soilMoistureValue = 0;
        soilMoisturePercent = 0;

        Sensor currentSensor = sensors[sensor_index];

        soilMoistureValue = analogRead(currentSensor.pin);
        soilMoisturePercent = map(soilMoistureValue, currentSensor.airValue, currentSensor.waterValue, 0, 100);

        String header = "\nPin ";
        header += currentSensor.label;
        header += " (";
        header += currentSensor.pin;
        header += "):";
        
        Serial.println(header);
        Serial.println(soilMoistureValue);

        if (soilMoisturePercent > 100) 
            Serial.println("100 %");
        else if (soilMoisturePercent < 0)
            Serial.println("0 %");
        else
        {
            Serial.print(soilMoisturePercent);
            Serial.println(" %");
        }

        delay(5000);
    }
}